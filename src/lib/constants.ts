import { Industry } from "@/types";

// 行业列表
export const INDUSTRIES: Industry[] = [
    "金融机构（以商业银行为例）",
    "交通运输业（以航空公司为例）",
    "数字科技行业（以云服务/互联网公司为例）",
    "新材料行业（以先进化工材料/复合材料为例）",
    "制造业（以汽车制造为例）",
    "电子信息业（以智能手机制造为例）",
    "医疗行业（以大型综合医院为例）",
    "电力行业（以火电厂为例）",
];

// C扇区参数（按行业）
export const C_SECTOR_BY_INDUSTRY: Record<Industry, number> = {
    "交通运输业（以航空公司为例）": 0.5,
    "电子信息业（以智能手机制造为例）": 0.01,
    "金融机构（以商业银行为例）": 0.005,
    "医疗行业（以大型综合医院为例）": 0.02,
    "电力行业（以火电厂为例）": 0.8,
    "制造业（以汽车制造为例）": 0.3,
    "数字科技行业（以云服务/互联网公司为例）": 0.01,
    "新材料行业（以先进化工材料/复合材料为例）": 0.15,
};

// K常数（全局）
export const K_CONSTANT = 0.1;

// 范围三模板（按行业）
export const SCOPE3_TEMPLATES: Record<
    Industry,
    Array<{
        dimension: string;
        category: string;
        description: string;
        formula: string;
        note: string;
    }>
> = {
    "金融机构（以商业银行为例）": [
        {
            dimension: "投融资组合排放",
            category: "类别15：投资",
            description:
                "几乎所有范围三排放来源于支持的融资与投资活动，需按持股比例分摊被投企业排放。",
            formula: "Σ(对每家被投企业的股权投资占比 × 企业范围一二三排放总额)",
            note: "financed emissions，是银行最大的间接排放源，关键反映资金对环境影响。",
        },
        {
            dimension: "供应链（采购服务）",
            category: "类别1：采购的商品和服务",
            description:
                "涵盖IT设备采购、咨询与市场等服务支出，通过财务支出估算间接排放。",
            formula: "Σ(各类采购或服务支出 × 相应支出排放因子)",
            note: "通常采用投入产出法(EEIO)或供应商数据。",
        },
        {
            dimension: "资产租赁",
            category: "类别13：租赁资产（上游）",
            description: "对租用的房产、办公楼等资产产生的间接排放进行核算。",
            formula: "Σ(租赁建筑面积 × 单位面积排放因子)",
            note: "银行通常不拥有资产，租赁物业排放需纳入。",
        },
        {
            dimension: "员工通勤与差旅",
            category: "类别6：商务旅行；类别7：员工通勤",
            description: "统计员工通勤与差旅活动带来的交通及住宿排放。",
            formula: "Σ(员工通勤里程 × 交通工具排放因子) + 差旅住宿碳排放",
            note: "大型银行员工众多，通勤和差旅不可忽视。",
        },
    ],
    "交通运输业（以航空公司为例）": [
        {
            dimension: "航空燃油生命周期",
            category: "类别3：燃料和能源相关活动（非范围二）",
            description:
                "覆盖航空燃油的开采、炼制、运输等上游排放，是航空业范围三核心。",
            formula: "Σ(航空燃油消耗量 × 燃油生命周期排放因子)",
            note: "需按燃油种类和供应商区分。",
        },
        {
            dimension: "飞机及相关资产制造",
            category: "类别1：采购的商品和服务；类别2：资本货物",
            description:
                "飞机、发动机等高价值资本品的制造排放需按使用年限进行摊销。",
            formula:
                "Σ(采购飞机数量 × 单架飞机建造排放 × 摊销系数) + 相关服务排放",
            note: "可采用供应商LCA或行业平均数据。",
        },
        {
            dimension: "外包与地面服务",
            category: "类别6：商务旅行；类别9：下游运输和配送",
            description:
                "地勤、维修、餐饮等外包服务以及员工商务出行带来的排放。",
            formula: "Σ(外包服务量 × 服务排放因子) + 员工商务旅行排放",
            note: "需覆盖机场地面服务供应链。",
        },
        {
            dimension: "基础设施使用",
            category: "类别13：租赁资产（下游）",
            description: "租赁机场柜台、机库、仓库等设施所产生的间接排放。",
            formula: "Σ(租赁设施面积 × 单位面积排放因子)",
            note: "与机场签订的租赁合同需提供活动数据。",
        },
    ],
    "数字科技行业（以云服务/互联网公司为例）": [
        {
            dimension: "硬件基础设施供应链",
            category: "类别1：采购的商品和服务",
            description: "服务器、网络设备、芯片等硬件采购的制程排放。",
            formula: "Σ(各类硬件采购数量 × 单台设备碳排放因子)",
            note: "芯片制造能耗高，建议按设备类型细分。",
        },
        {
            dimension: "所购电力的上游排放",
            category: "类别3：燃料和能源相关活动（上游）",
            description: "所购电力背后的燃料开采、发电与输配环节排放。",
            formula: "Σ(数据中心或办公用电量 × 电网电力生命周期排放因子)",
            note: "与范围二直接用电排放区分，反映上游链条。",
        },
        {
            dimension: "资本货物与租赁资产",
            category: "类别2：资本货物；类别13：租赁资产",
            description: "自建数据中心的建材及租赁数据中心面积带来的间接排放。",
            formula:
                "Σ(自建数据中心所耗建材用量 × 建材排放因子) + Σ(租赁面积 × 间接排放因子)",
            note: "需覆盖建筑生命周期与租赁机房能耗。",
        },
        {
            dimension: "赋能下游减排（碳手印）",
            category: "类别11：售出产品的使用（避免排放）",
            description: "衡量数字化解决方案为客户避免的排放量。",
            formula: "Σ(客户因采用数字方案减少的碳排放量)",
            note: "需建立基准情景与实际情景对比。",
        },
    ],
    "新材料行业（以先进化工材料/复合材料为例）": [
        {
            dimension: "高能耗原材料采购",
            category: "类别1：采购的商品和服务",
            description: "原料生产过程能耗高，需要获取供应商LCA因子。",
            formula: "Σ(各类原材料采购重量 × 全生命周期排放因子)",
            note: "金属单体、特种化学品等是主要排放源。",
        },
        {
            dimension: "材料使用阶段的能效影响",
            category: "类别11：售出产品的使用",
            description:
                "售出产品在使用阶段的能耗或排放，按销售数量与典型使用工况估算。",
            formula: "Σ(售出产品数量 × 产品使用强度 × 使用寿命 × 排放因子)",
            note: "需获取典型使用强度、寿命和电/燃料排放因子，确保单位一致。",
        },
        {
            dimension: "研发与生产过程能耗",
            category: "类别3：燃料和能源相关活动",
            description: "外购蒸汽、化学品及实验设备能耗所对应的上游排放。",
            formula: "Σ(外购蒸汽/化学品用量 × 对应排放因子) + 实验设备能耗排放",
            note: "高纯工艺与研发阶段耗能大，上游排放需纳入。",
        },
        {
            dimension: "产品报废与回收",
            category: "类别12：售出产品报废处理",
            description: "复合材料报废常需焚烧或填埋，若能回收需计算抵扣。",
            formula: "Σ(报废产品重量 × 处置排放因子) − Σ(回收量 × 回收碳抵扣)",
            note: "回收困难时需重点关注废弃阶段排放。",
        },
    ],
    "制造业（以汽车制造为例）": [
        {
            dimension: "上游供应链",
            category: "类别1：采购的商品和服务",
            description: "整车零部件和原材料的生产排放占比最高。",
            formula: "Σ(每种材料采购重量 × 材料排放因子)",
            note: "可使用供应商或LCA数据库(如Ecoinvent)。",
        },
        {
            dimension: "产品使用阶段",
            category: "类别11：售出产品的使用",
            description: "车辆运营阶段的燃料消耗间接排放，应按寿命期衡量。",
            formula: "Σ(售出车辆数 × 平均行驶里程 × 车辆能耗 × 燃料排放因子)",
            note: "对电动车还需考虑用电排放因子。",
        },
        {
            dimension: "物流运输",
            category: "类别4：上游运输和配送；类别9：下游运输和配送",
            description: "原材料与成品在供应链和销售环节的运输排放。",
            formula: "Σ(各运输方式吨公里量 × 方式排放因子)",
            note: "需区分陆运、海运、空运等不同方式。",
        },
        {
            dimension: "报废处理",
            category: "类别12：售出产品报废处理",
            description: "报废车辆拆解、回收或处置环节的排放。",
            formula: "Σ(报废车辆重量 × 材料报废处理排放因子)",
            note: "回收率会显著影响结果。",
        },
    ],
    "电子信息业（以智能手机制造为例）": [
        {
            dimension: "高精密零部件供应链",
            category: "类别1：采购的商品和服务",
            description: "芯片、屏幕、电池等关键部件的制造排放集中。",
            formula: "Σ(关键部件采购数量 × 部件排放因子)",
            note: "需重点追踪芯片代工厂排放因子。",
        },
        {
            dimension: "产品使用阶段耗电",
            category: "类别11：售出产品的使用",
            description: "用户在使用设备过程中的充电排放，需要基于寿命期统计。",
            formula:
                "Σ(售出设备数量 × 单台设备年耗电量 × 使用年限 × 电网排放因子)",
            note: "不同地区电网因子差异显著。",
        },
        {
            dimension: "物流与分销",
            category: "类别4：上游运输和配送；类别9：下游运输和配送",
            description: "全球化供应链下的空运、海运和陆运排放。",
            formula: "Σ(全球运输吨公里量 × 对应运输方式排放因子)",
            note: "需将仓储与末端配送纳入。",
        },
        {
            dimension: "产品报废回收",
            category: "类别12：售出产品报废处理",
            description: "废旧设备的回收处理及填埋焚烧排放。",
            formula: "Σ(报废设备数量 × 回收/处置排放因子)",
            note: "金属回收可带来显著碳抵扣。",
        },
    ],
    "医疗行业（以大型综合医院为例）": [
        {
            dimension: "药品与耗材供应链",
            category: "类别1：采购的商品和服务",
            description:
                "药品、耗材的大量采购是范围三主要来源，多采用财务法估算。",
            formula: "Σ(各类药品或耗材采购金额 × 对应支出排放因子)",
            note: "需区分一次性耗材与可重复使用器械。",
        },
        {
            dimension: "医疗设备与基础设施建设",
            category: "类别2：资本货物",
            description: "MRI、CT等大型设备制造与建设施工的上游排放。",
            formula: "Σ(大型医疗设备采购价值 × 制造排放因子 × 摊销系数)",
            note: "建设期混凝土、钢材等也需计入。",
        },
        {
            dimension: "医疗废物处理",
            category: "类别5：运营中产生的废物",
            description: "感染性、化学性等医疗废物在焚烧或无害化处理中的排放。",
            formula: "Σ(各类医疗废物重量 × 处理方式排放因子)",
            note: "高温焚烧是主要方式，排放因子需按处理工艺确定。",
        },
        {
            dimension: "相关交通排放",
            category: "类别4：上游运输和配送；类别6：商务旅行；类别7：员工通勤",
            description: "药品设备进院运输、员工通勤与差旅带来的排放。",
            formula: "Σ(药品或设备运输吨公里 × 运输排放因子) + 员工通勤排放",
            note: "医院客流大，需关注交通拥堵引发的额外排放。",
        },
    ],
    "电力行业（以火电厂为例）": [
        {
            dimension: "燃料开采与运输",
            category: "类别3：燃料和能源相关活动",
            description: "煤炭、天然气等燃料在开采、洗选、运输过程中的排放。",
            formula: "Σ(各类燃料采购量 × 燃料开采/加工/运输排放因子)",
            note: "是火电范围三的最大来源，反映燃料从井口到电厂的排放。",
        },
        {
            dimension: "售出电力的使用",
            category: "类别11：售出产品的使用",
            description:
                "下游用户消费所售电力产生的排放，一般需根据监管要求披露。",
            formula: "Σ(售电电量 × 电网平均排放因子)",
            note: "为避免重复计算，有时在企业边界外单独呈现。",
        },
        {
            dimension: "电网损耗",
            category: "类别3：燃料和能源相关活动（输配电损耗）",
            description: "输配电过程中因线路损耗导致的额外发电需求。",
            formula: "Σ(输配电损耗量 × 电网排放因子)",
            note: "可按售电量与终端交付量的差额估算。",
        },
        {
            dimension: "电厂建设与退役",
            category: "类别1：采购的商品和服务；类别12：售出产品报废处理",
            description: "电厂建设所需材料及退役拆除、废物处置产生的排放。",
            formula:
                "Σ(建设材料用量 × 材料排放因子) + Σ(退役处置量 × 处置排放因子)",
            note: "大型基建项目需覆盖全生命周期。",
        },
    ],
};

// 后端API基础URL（可通过环境变量覆盖）
export const API_BASE_URL =
    process.env.NEXT_PUBLIC_CARBON_API_BASE_URL ||
    "http://10.26.9.48:18080/b/ibot";
